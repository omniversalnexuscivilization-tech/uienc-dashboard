// ============================================
// UIENC 2.0 Internationalization (i18n)
// Multi-language Support System
// ============================================

const translations = {
  en: {
    // Common
    common: {
      loading: "Loading...",
      save: "Save",
      cancel: "Cancel",
      close: "Close",
      edit: "Edit",
      delete: "Delete",
      add: "Add",
      view: "View",
      export: "Export",
      share: "Share",
      search: "Search",
      filter: "Filter",
      sort: "Sort by"
    },
    
    // Navigation
    nav: {
      overview: "Overview",
      growth: "Growth Map",
      projects: "Portfolio",
      badges: "Achievements",
      reflections: "Reflections",
      learners: "Learners",
      analytics: "Analytics",
      progress: "Progress Tracking",
      feedback: "Feedback"
    },
    
    // Dashboard
    dashboard: {
      contributionScore: "Contribution Score",
      learningHours: "Learning Hours",
      completionRate: "Completion Rate",
      activeProjects: "Active Projects",
      totalLearners: "Total Learners",
      avgContribution: "Avg Contribution",
      needsAttention: "Needs Attention"
    },
    
    // Growth Levels
    growth: {
      awakening: "Awakening",
      exploring: "Exploring",
      integrating: "Integrating",
      synthesizing: "Synthesizing",
      transforming: "Transforming"
    },
    
    // Status
    status: {
      excelling: "Excelling",
      onTrack: "On Track",
      needsSupport: "Needs Support",
      completed: "Completed",
      active: "Active",
      inProgress: "In Progress"
    },
    
    // Messages
    messages: {
      dataSaved: "Data saved successfully!",
      projectAdded: "Project added successfully!",
      reflectionAdded: "Reflection added successfully!",
      badgeAwarded: "Badge awarded successfully!",
      exportReady: "Export ready!",
      error: "An error occurred"
    }
  },
  
  hi: {
    // Common
    common: {
      loading: "‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...",
      save: "‡§∏‡§π‡•á‡§ú‡•á‡§Ç",
      cancel: "‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç",
      close: "‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç",
      edit: "‡§∏‡§Ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç",
      delete: "‡§π‡§ü‡§æ‡§è‡§Ç",
      add: "‡§ú‡•ã‡§°‡§º‡•á‡§Ç",
      view: "‡§¶‡•á‡§ñ‡•á‡§Ç",
      export: "‡§®‡§ø‡§∞‡•ç‡§Ø‡§æ‡§§ ‡§ï‡§∞‡•á‡§Ç",
      share: "‡§∏‡§æ‡§ù‡§æ ‡§ï‡§∞‡•á‡§Ç",
      search: "‡§ñ‡•ã‡§ú‡•á‡§Ç",
      filter: "‡§´‡§º‡§ø‡§≤‡•ç‡§ü‡§∞",
      sort: "‡§ï‡•ç‡§∞‡§Æ‡§¨‡§¶‡•ç‡§ß ‡§ï‡§∞‡•á‡§Ç"
    },
    
    // Navigation
    nav: {
      overview: "‡§Ö‡§µ‡§≤‡•ã‡§ï‡§®",
      growth: "‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§Æ‡§æ‡§®‡§ö‡§ø‡§§‡•ç‡§∞",
      projects: "‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç",
      badges: "‡§â‡§™‡§≤‡§¨‡•ç‡§ß‡§ø‡§Ø‡§æ‡§Ç",
      reflections: "‡§ö‡§ø‡§Ç‡§§‡§®",
      learners: "‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ‡§∞‡•ç‡§•‡•Ä",
      analytics: "‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£",
      progress: "‡§™‡•ç‡§∞‡§ó‡§§‡§ø ‡§ü‡•ç‡§∞‡•à‡§ï‡§ø‡§Ç‡§ó",
      feedback: "‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ"
    },
    
    // Dashboard
    dashboard: {
      contributionScore: "‡§Ø‡•ã‡§ó‡§¶‡§æ‡§® ‡§∏‡•ç‡§ï‡•ã‡§∞",
      learningHours: "‡§∏‡•Ä‡§ñ‡§®‡•á ‡§ï‡•á ‡§ò‡§Ç‡§ü‡•á",
      completionRate: "‡§™‡•Ç‡§∞‡•ç‡§£‡§§‡§æ ‡§¶‡§∞",
      activeProjects: "‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç",
      totalLearners: "‡§ï‡•Å‡§≤ ‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ‡§∞‡•ç‡§•‡•Ä",
      avgContribution: "‡§î‡§∏‡§§ ‡§Ø‡•ã‡§ó‡§¶‡§æ‡§®",
      needsAttention: "‡§ß‡•ç‡§Ø‡§æ‡§® ‡§ö‡§æ‡§π‡§ø‡§è"
    },
    
    // Growth Levels
    growth: {
      awakening: "‡§ú‡§æ‡§ó‡•É‡§§‡§ø",
      exploring: "‡§Ö‡§®‡•ç‡§µ‡•á‡§∑‡§£",
      integrating: "‡§è‡§ï‡•Ä‡§ï‡§∞‡§£",
      synthesizing: "‡§∏‡§Ç‡§∂‡•ç‡§≤‡•á‡§∑‡§£",
      transforming: "‡§™‡§∞‡§ø‡§µ‡§∞‡•ç‡§§‡§®"
    },
    
    // Status
    status: {
      excelling: "‡§â‡§§‡•ç‡§ï‡•É‡§∑‡•ç‡§ü",
      onTrack: "‡§∏‡§π‡•Ä ‡§¶‡§ø‡§∂‡§æ ‡§Æ‡•á‡§Ç",
      needsSupport: "‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§ö‡§æ‡§π‡§ø‡§è",
      completed: "‡§™‡•Ç‡§∞‡•ç‡§£",
      active: "‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø",
      inProgress: "‡§™‡•ç‡§∞‡§ó‡§§‡§ø ‡§Æ‡•á‡§Ç"
    },
    
    // Messages
    messages: {
      dataSaved: "‡§°‡•á‡§ü‡§æ ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§∏‡§π‡•á‡§ú‡§æ ‡§ó‡§Ø‡§æ!",
      projectAdded: "‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§ú‡•ã‡§°‡§º‡•Ä ‡§ó‡§à!",
      reflectionAdded: "‡§ö‡§ø‡§Ç‡§§‡§® ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§ú‡•ã‡§°‡§º‡§æ ‡§ó‡§Ø‡§æ!",
      badgeAwarded: "‡§¨‡•à‡§ú ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ!",
      exportReady: "‡§®‡§ø‡§∞‡•ç‡§Ø‡§æ‡§§ ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•à!",
      error: "‡§è‡§ï ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø ‡§π‡•Å‡§à"
    }
  },
  
  rongmei: {
    // Common (Rongmei - Tibeto-Burman language)
    common: {
      loading: "Loading...",
      save: "Chamlak",
      cancel: "Kadai",
      close: "Kam",
      edit: "Sut",
      delete: "Thak",
      add: "Piak",
      view: "Mik",
      export: "Thun",
      share: "Pai",
      search: "Kui",
      filter: "Riap",
      sort: "Rum"
    },
    
    // Navigation
    nav: {
      overview: "Kamgan",
      growth: "Kamlu Dau",
      projects: "Kam Gan",
      badges: "Thang Rai",
      reflections: "Lung Thaipai",
      learners: "Tamna Nai",
      analytics: "Riap Dau",
      progress: "Kamlu",
      feedback: "Lung Pai"
    },
    
    // Dashboard
    dashboard: {
      contributionScore: "Pai Khun",
      learningHours: "Tam Hour",
      completionRate: "Kam Sum",
      activeProjects: "Kam Active",
      totalLearners: "Tamna Nai Gan",
      avgContribution: "Pai Khun Rum",
      needsAttention: "Ruangai Kam"
    },
    
    // Growth Levels  
    growth: {
      awakening: "Thaimiu",
      exploring: "Kuimiu",
      integrating: "Chalmiu",
      synthesizing: "Rummiu",
      transforming: "Suimiu"
    },
    
    // Status
    status: {
      excelling: "Aphap",
      onTrack: "Dik",
      needsSupport: "Ruangai",
      completed: "Sum",
      active: "Active",
      inProgress: "Kamlu"
    },
    
    // Messages
    messages: {
      dataSaved: "Data chamlak sum!",
      projectAdded: "Kam piak sum!",
      reflectionAdded: "Lung thaipai piak sum!",
      badgeAwarded: "Thang rai pai sum!",
      exportReady: "Thun ready!",
      error: "Dik dilai"
    }
  },
  
  bn: {
    // Common (Bengali)
    common: {
      loading: "‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...",
      save: "‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®",
      cancel: "‡¶¨‡¶æ‡¶§‡¶ø‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®",
      close: "‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®",
      edit: "‡¶∏‡¶Æ‡ßç‡¶™‡¶æ‡¶¶‡¶®‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®",
      delete: "‡¶Æ‡ßÅ‡¶õ‡ßÅ‡¶®",
      add: "‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®",
      view: "‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®",
      export: "‡¶∞‡¶™‡ßç‡¶§‡¶æ‡¶®‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®",
      share: "‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®",
      search: "‡¶Ö‡¶®‡ßÅ‡¶∏‡¶®‡ßç‡¶ß‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®",
      filter: "‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞",
      sort: "‡¶∏‡¶æ‡¶ú‡¶æ‡¶®"
    },
    
    // Navigation
    nav: {
      overview: "‡¶∏‡¶Ç‡¶ï‡ßç‡¶∑‡¶ø‡¶™‡ßç‡¶§ ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£",
      growth: "‡¶¨‡ßÉ‡¶¶‡ßç‡¶ß‡¶ø‡¶∞ ‡¶Æ‡¶æ‡¶®‡¶ö‡¶ø‡¶§‡ßç‡¶∞",
      projects: "‡¶™‡ßç‡¶∞‡¶ï‡¶≤‡ßç‡¶™‡¶∏‡¶Æ‡ßÇ‡¶π",
      badges: "‡¶Ö‡¶∞‡ßç‡¶ú‡¶®‡¶∏‡¶Æ‡ßÇ‡¶π",
      reflections: "‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶´‡¶≤‡¶®",
      learners: "‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ‡¶∞‡¶æ",
      analytics: "‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£",
      progress: "‡¶Ö‡¶ó‡ßç‡¶∞‡¶ó‡¶§‡¶ø ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ø‡¶Ç",
      feedback: "‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ"
    },
    
    // Dashboard
    dashboard: {
      contributionScore: "‡¶Ö‡¶¨‡¶¶‡¶æ‡¶® ‡¶∏‡ßç‡¶ï‡ßã‡¶∞",
      learningHours: "‡¶∂‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶ò‡¶®‡ßç‡¶ü‡¶æ",
      completionRate: "‡¶∏‡¶Æ‡¶æ‡¶™‡ßç‡¶§‡¶ø‡¶∞ ‡¶π‡¶æ‡¶∞",
      activeProjects: "‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶™‡ßç‡¶∞‡¶ï‡¶≤‡ßç‡¶™",
      totalLearners: "‡¶Æ‡ßã‡¶ü ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ",
      avgContribution: "‡¶ó‡¶°‡¶º ‡¶Ö‡¶¨‡¶¶‡¶æ‡¶®",
      needsAttention: "‡¶Æ‡¶®‡ßã‡¶Ø‡ßã‡¶ó ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®"
    },
    
    // Growth Levels
    growth: {
      awakening: "‡¶ú‡¶æ‡¶ó‡¶∞‡¶£",
      exploring: "‡¶Ö‡¶®‡ßç‡¶¨‡ßá‡¶∑‡¶£",
      integrating: "‡¶è‡¶ï‡ßÄ‡¶ï‡¶∞‡¶£",
      synthesizing: "‡¶∏‡¶Ç‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£",
      transforming: "‡¶∞‡ßÇ‡¶™‡¶æ‡¶®‡ßç‡¶§‡¶∞"
    },
    
    // Status
    status: {
      excelling: "‡¶â‡ßé‡¶ï‡¶∞‡ßç‡¶∑",
      onTrack: "‡¶∏‡¶†‡¶ø‡¶ï ‡¶™‡¶•‡ßá",
      needsSupport: "‡¶∏‡¶π‡¶æ‡¶Ø‡¶º‡¶§‡¶æ ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®",
      completed: "‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®",
      active: "‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º",
      inProgress: "‡¶ö‡¶≤‡¶Æ‡¶æ‡¶®"
    },
    
    // Messages
    messages: {
      dataSaved: "‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§!",
      projectAdded: "‡¶™‡ßç‡¶∞‡¶ï‡¶≤‡ßç‡¶™ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!",
      reflectionAdded: "‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶´‡¶≤‡¶® ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!",
      badgeAwarded: "‡¶¨‡ßç‡¶Ø‡¶æ‡¶ú ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!",
      exportReady: "‡¶∞‡¶™‡ßç‡¶§‡¶æ‡¶®‡¶ø ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§!",
      error: "‡¶è‡¶ï‡¶ü‡¶ø ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶ò‡¶ü‡ßá‡¶õ‡ßá"
    }
  }
};

// ===== i18n Class =====
class I18n {
  constructor() {
    this.currentLanguage = this.detectLanguage();
    this.translations = translations;
  }

  // Detect user's preferred language
  detectLanguage() {
    // Check localStorage
    const savedLang = localStorage.getItem('uienc_language');
    if (savedLang && this.translations[savedLang]) {
      return savedLang;
    }

    // Check browser language
    const browserLang = navigator.language.split('-')[0];
    if (this.translations[browserLang]) {
      return browserLang;
    }

    // Default to English
    return 'en';
  }

  // Set language
  setLanguage(lang) {
    if (this.translations[lang]) {
      this.currentLanguage = lang;
      localStorage.setItem('uienc_language', lang);
      this.updateDOM();
      return true;
    }
    return false;
  }

  // Get translation
  t(key) {
    const keys = key.split('.');
    let value = this.translations[this.currentLanguage];

    for (const k of keys) {
      if (value && value[k]) {
        value = value[k];
      } else {
        // Fallback to English
        value = this.translations.en;
        for (const k of keys) {
          if (value && value[k]) {
            value = value[k];
          } else {
            return key; // Return key if not found
          }
        }
        break;
      }
    }

    return value;
  }

  // Update DOM with translations
  updateDOM() {
    document.querySelectorAll('[data-i18n]').forEach(element => {
      const key = element.getAttribute('data-i18n');
      const translation = this.t(key);
      
      if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
        element.placeholder = translation;
      } else {
        element.textContent = translation;
      }
    });

    // Update HTML lang attribute
    document.documentElement.lang = this.currentLanguage;

    // Trigger custom event
    window.dispatchEvent(new CustomEvent('languageChanged', {
      detail: { language: this.currentLanguage }
    }));
  }

  // Get current language
  getCurrentLanguage() {
    return this.currentLanguage;
  }

  // Get available languages
  getAvailableLanguages() {
    return Object.keys(this.translations).map(code => ({
      code,
      name: this.getLanguageName(code)
    }));
  }

  // Get language name
  getLanguageName(code) {
    const names = {
      en: 'English',
      hi: '‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)',
      rongmei: 'Rongmei',
      bn: '‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ (Bengali)'
    };
    return names[code] || code;
  }

  // Format number based on locale
  formatNumber(number, options = {}) {
    const locales = {
      en: 'en-IN',
      hi: 'hi-IN',
      rongmei: 'en-IN',
      bn: 'bn-IN'
    };
    
    return new Intl.NumberFormat(locales[this.currentLanguage] || 'en-IN', options).format(number);
  }

  // Format date based on locale
  formatDate(date, options = {}) {
    const locales = {
      en: 'en-IN',
      hi: 'hi-IN',
      rongmei: 'en-IN',
      bn: 'bn-IN'
    };
    
    return new Intl.DateTimeFormat(locales[this.currentLanguage] || 'en-IN', options).format(date);
  }
}

// ===== Initialize i18n =====
const i18n = new I18n();

// ===== Language Switcher Component =====
function createLanguageSwitcher() {
  const container = document.createElement('div');
  container.className = 'language-switcher';
  container.innerHTML = `
    <button class="btn btn-icon language-switcher-btn" id="languageSwitcherBtn">
      <i data-lucide="globe"></i>
      <span>${i18n.getCurrentLanguage().toUpperCase()}</span>
    </button>
    <div class="language-dropdown" id="languageDropdown" style="display: none;">
      ${i18n.getAvailableLanguages().map(lang => `
        <button class="language-option ${lang.code === i18n.getCurrentLanguage() ? 'active' : ''}" 
                data-lang="${lang.code}">
          ${lang.name}
        </button>
      `).join('')}
    </div>
  `;
  
  return container;
}

// ===== Add language switcher to page =====
function initLanguageSwitcher() {
  const headerRight = document.querySelector('.header-right');
  if (headerRight) {
    const switcher = createLanguageSwitcher();
    headerRight.insertBefore(switcher, headerRight.firstChild);
    
    // Toggle dropdown
    document.getElementById('languageSwitcherBtn').addEventListener('click', (e) => {
      e.stopPropagation();
      const dropdown = document.getElementById('languageDropdown');
      dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
    });
    
    // Close dropdown when clicking outside
    document.addEventListener('click', () => {
      const dropdown = document.getElementById('languageDropdown');
      if (dropdown) dropdown.style.display = 'none';
    });
    
    // Language selection
    document.querySelectorAll('.language-option').forEach(btn => {
      btn.addEventListener('click', () => {
        const lang = btn.getAttribute('data-lang');
        i18n.setLanguage(lang);
        location.reload(); // Reload to apply translations
      });
    });
  }
}

// ===== Export =====
if (typeof module !== 'undefined' && module.exports) {
  module.exports = { i18n, I18n, initLanguageSwitcher };
}

// ===== Auto-initialize on DOM load =====
document.addEventListener('DOMContentLoaded', () => {
  // Initialize language switcher
  setTimeout(() => {
    initLanguageSwitcher();
    i18n.updateDOM();
  }, 100);
});

// ===== CSS for Language Switcher =====
const style = document.createElement('style');
style.textContent = `
  .language-switcher {
    position: relative;
    display: inline-block;
  }

  .language-switcher-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.625rem 1rem !important;
  }

  .language-switcher-btn span {
    font-size: 0.875rem;
    font-weight: 600;
  }

  .language-dropdown {
    position: absolute;
    top: 100%;
    right: 0;
    margin-top: 0.5rem;
    background: white;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-lg);
    min-width: 200px;
    z-index: 1000;
    overflow: hidden;
  }

  .language-option {
    width: 100%;
    padding: 0.75rem 1rem;
    text-align: left;
    border: none;
    background: white;
    cursor: pointer;
    transition: var(--transition);
    font-size: 0.875rem;
  }

  .language-option:hover {
    background: var(--bg-gray);
  }

  .language-option.active {
    background: var(--color-primary);
    color: white;
    font-weight: 600;
  }
`;
document.head.appendChild(style);

console.log('üåê i18n System initialized:', i18n.getCurrentLanguage());

