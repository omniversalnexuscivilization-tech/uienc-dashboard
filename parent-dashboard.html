<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UIENC Parent Dashboard - Monitor Your Child's Growth | ONSNC.org</title>
    <meta name="description" content="Parent dashboard for monitoring child's holistic learning journey">
    
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#7c3aed">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="/assets/icon-192x192.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/favicon.png">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/uienc-dashboard.css">
    <link rel="stylesheet" href="css/mentor-dashboard.css">
    <link rel="stylesheet" href="css/parent-dashboard.css">
    
    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="parent-mode">
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-spinner"></div>
        <p class="loading-text" data-i18n="common.loading">Loading Parent Dashboard...</p>
    </div>

    <!-- Notification Toast -->
    <div id="notificationToast" class="notification-toast hidden">
        <i data-lucide="check-circle" class="notification-icon"></i>
        <span id="notificationMessage"></span>
    </div>

    <!-- Main Container -->
    <div id="mainApp" class="hidden">
        <!-- Header -->
        <header class="dashboard-header parent-header">
            <div class="header-container">
                <div class="header-left">
                    <div class="parent-avatar">
                        <i data-lucide="heart"></i>
                    </div>
                    <div class="parent-info">
                        <h1 class="parent-name" id="parentName">Mrs. Ronghang</h1>
                        <p class="parent-details" id="parentDetails">Parent ‚Ä¢ Aanya's Guardian</p>
                    </div>
                </div>
                <div class="header-right">
                    <!-- Language Switcher will be inserted here -->
                    <button class="btn btn-secondary" id="communicateBtn">
                        <i data-lucide="message-circle"></i>
                        <span data-i18n="parent.communicate">Message Mentor</span>
                    </button>
                    <button class="btn btn-primary" id="exportReportBtn">
                        <i data-lucide="download"></i>
                        <span data-i18n="common.export">Export Report</span>
                    </button>
                    <button class="btn btn-icon" id="settingsBtn">
                        <i data-lucide="settings"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="nav-tabs">
            <div class="nav-container">
                <button class="nav-tab active" data-tab="overview">
                    <i data-lucide="home"></i>
                    <span data-i18n="nav.overview">Overview</span>
                </button>
                <button class="nav-tab" data-tab="progress">
                    <i data-lucide="trending-up"></i>
                    <span data-i18n="parent.progress">Progress</span>
                </button>
                <button class="nav-tab" data-tab="activities">
                    <i data-lucide="activity"></i>
                    <span data-i18n="parent.activities">Activities</span>
                </button>
                <button class="nav-tab" data-tab="communication">
                    <i data-lucide="message-square"></i>
                    <span data-i18n="parent.communication">Communication</span>
                </button>
                <button class="nav-tab" data-tab="resources">
                    <i data-lucide="book-open"></i>
                    <span data-i18n="parent.resources">Resources</span>
                </button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <div class="content-container">
                
                <!-- Overview Tab -->
                <section id="overviewTab" class="tab-content active">
                    <!-- Child Info Card -->
                    <div class="child-info-card">
                        <div class="child-avatar-large">AR</div>
                        <div class="child-info-content">
                            <h2 id="childName">Aanya Ronghang</h2>
                            <div class="child-meta">
                                <span><strong data-i18n="parent.age">Age:</strong> <span id="childAge">13</span></span>
                                <span><strong data-i18n="parent.pod">Pod:</strong> <span id="childPod">Green Pod</span></span>
                                <span><strong data-i18n="parent.mentor">Mentor:</strong> <span id="childMentor">Mr. Anil Das</span></span>
                            </div>
                        </div>
                    </div>

                    <!-- Key Highlights -->
                    <div class="highlights-grid">
                        <div class="highlight-card card-purple">
                            <div class="highlight-icon">üéØ</div>
                            <div class="highlight-info">
                                <h3 data-i18n="dashboard.contributionScore">Contribution Score</h3>
                                <p class="highlight-value" id="childContribution">87/100</p>
                                <span class="highlight-trend positive">+5 this month</span>
                            </div>
                        </div>

                        <div class="highlight-card card-blue">
                            <div class="highlight-icon">üìö</div>
                            <div class="highlight-info">
                                <h3 data-i18n="parent.projectsCompleted">Projects Completed</h3>
                                <p class="highlight-value" id="childProjects">4 of 6</p>
                                <span class="highlight-trend">67% completion</span>
                            </div>
                        </div>

                        <div class="highlight-card card-green">
                            <div class="highlight-icon">üèÜ</div>
                            <div class="highlight-info">
                                <h3 data-i18n="parent.badgesEarned">Badges Earned</h3>
                                <p class="highlight-value" id="childBadges">8</p>
                                <span class="highlight-trend positive">+2 new this month</span>
                            </div>
                        </div>

                        <div class="highlight-card card-orange">
                            <div class="highlight-icon">‚≠ê</div>
                            <div class="highlight-info">
                                <h3 data-i18n="parent.overallGrowth">Overall Growth</h3>
                                <p class="highlight-value" id="childGrowth">4.3/5</p>
                                <span class="highlight-trend">Excellent progress</span>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Achievements -->
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">
                                <i data-lucide="star"></i>
                                <span data-i18n="parent.recentAchievements">Recent Achievements</span>
                            </h2>
                        </div>
                        <div class="card-body">
                            <div id="recentAchievements" class="achievements-timeline">
                                <!-- Dynamically populated -->
                            </div>
                        </div>
                    </div>

                    <!-- Mentor's Latest Feedback -->
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">
                                <i data-lucide="message-circle"></i>
                                <span data-i18n="parent.mentorFeedback">Mentor's Latest Feedback</span>
                            </h2>
                        </div>
                        <div class="card-body">
                            <div class="mentor-feedback-card">
                                <div class="feedback-header">
                                    <div class="mentor-avatar-small">AD</div>
                                    <div>
                                        <h4>Mr. Anil Das</h4>
                                        <span class="feedback-date">June 28, 2025</span>
                                    </div>
                                </div>
                                <p class="feedback-text">
                                    "Aanya embodies transformative learning. Over this cycle, she has transitioned from individual excellence to collective leadership. Her integration of traditional Rongmei ecological knowledge with contemporary AI tools demonstrates rare synthesis capacity."
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Areas of Focus -->
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">
                                <i data-lucide="target"></i>
                                <span data-i18n="parent.areasOfFocus">Areas of Focus</span>
                            </h2>
                        </div>
                        <div class="card-body">
                            <div class="focus-areas-grid">
                                <div class="focus-area-item strength">
                                    <h4>üí™ Strengths</h4>
                                    <ul>
                                        <li>Creativity & Innovation (‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê)</li>
                                        <li>Community Responsibility (‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê)</li>
                                        <li>Ethical Reasoning (‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê)</li>
                                    </ul>
                                </div>
                                <div class="focus-area-item growing">
                                    <h4>üå± Growing</h4>
                                    <ul>
                                        <li>Global Collaboration (‚≠ê‚≠ê‚≠ê)</li>
                                        <li>Public Speaking (Goal set)</li>
                                        <li>Mathematical Reasoning (‚≠ê‚≠ê‚≠ê‚≠ê)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Progress Tab -->
                <section id="progressTab" class="tab-content">
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title" data-i18n="parent.growthOverTime">Growth Over Time</h2>
                            <select id="progressTimeframe" class="filter-select">
                                <option value="month">This Month</option>
                                <option value="quarter" selected>This Quarter</option>
                                <option value="year">This Year</option>
                            </select>
                        </div>
                        <div class="card-body">
                            <div id="progressChart" class="chart-container">
                                <!-- Chart visualization -->
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title" data-i18n="parent.detailedGrowth">Detailed Growth Areas</h2>
                        </div>
                        <div class="card-body">
                            <div id="detailedGrowthAreas" class="detailed-growth-container">
                                <!-- Detailed growth areas -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Activities Tab -->
                <section id="activitiesTab" class="tab-content">
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title" data-i18n="parent.upcomingActivities">Upcoming Activities</h2>
                        </div>
                        <div class="card-body">
                            <div id="upcomingActivities" class="activities-list">
                                <!-- Upcoming activities -->
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title" data-i18n="parent.recentActivities">Recent Activities</h2>
                        </div>
                        <div class="card-body">
                            <div id="recentActivities" class="activities-list">
                                <!-- Recent activities -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Communication Tab -->
                <section id="communicationTab" class="tab-content">
                    <div class="communication-toolbar">
                        <button class="btn btn-primary" id="newMessageBtn">
                            <i data-lucide="plus"></i>
                            <span data-i18n="parent.newMessage">New Message</span>
                        </button>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title" data-i18n="parent.messageHistory">Message History</h2>
                        </div>
                        <div class="card-body">
                            <div id="messageHistory" class="message-thread">
                                <!-- Message history -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Resources Tab -->
                <section id="resourcesTab" class="tab-content">
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title" data-i18n="parent.parentingResources">Parenting Resources</h2>
                        </div>
                        <div class="card-body">
                            <div id="resourcesList" class="resources-grid">
                                <!-- Resources -->
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title" data-i18n="parent.supportAtHome">Supporting Learning at Home</h2>
                        </div>
                        <div class="card-body">
                            <div class="support-tips">
                                <div class="tip-card">
                                    <h4>üó£Ô∏è Communication Tips</h4>
                                    <p>Ask open-ended questions about their projects and encourage reflection on what they've learned.</p>
                                </div>
                                <div class="tip-card">
                                    <h4>üè° Home Environment</h4>
                                    <p>Create a dedicated learning space and maintain consistent routines for project work.</p>
                                </div>
                                <div class="tip-card">
                                    <h4>ü§ù Collaboration</h4>
                                    <p>Engage with your child's learning by participating in community projects together.</p>
                                </div>
                                <div class="tip-card">
                                    <h4>üéØ Goal Setting</h4>
                                    <p>Help your child set realistic goals and celebrate small achievements along the way.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

            </div>
        </main>
    </div>

    <!-- Modal: Send Message -->
    <div id="sendMessageModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" data-i18n="parent.sendMessage">Send Message</h2>
                <button class="modal-close" data-close="sendMessageModal">
                    <i data-lucide="x"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="sendMessageForm">
                    <div class="form-group">
                        <label for="messageTo">To</label>
                        <select id="messageTo" class="form-control">
                            <option value="mentor">Mentor (Mr. Anil Das)</option>
                            <option value="peer-mentor">Peer Mentor (Ritu)</option>
                            <option value="pod-coordinator">Pod Coordinator</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="messageSubject">Subject</label>
                        <input type="text" id="messageSubject" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="messageBody">Message</label>
                        <textarea id="messageBody" class="form-control" rows="6" required></textarea>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">
                            <i data-lucide="send"></i>
                            <span data-i18n="parent.send">Send</span>
                        </button>
                        <button type="button" class="btn btn-secondary" data-close="sendMessageModal" data-i18n="common.cancel">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="js/i18n.js"></script>
    <script src="js/uienc-dashboard.js"></script>
    <script src="js/parent-dashboard.js"></script>
    
    <!-- PWA Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js')
                .then(reg => console.log('‚úÖ Service Worker registered', reg))
                .catch(err => console.error('‚ùå Service Worker registration failed', err));
        }
    </script>
    
    <!-- Initialize Lucide Icons -->
    <script>
        lucide.createIcons();
    </script>
</body>
</html>